# Subchart for front
front:
  replicaCount: 1
  LOG_LEVEL: INFO
  INITIAL_DELAY_SEC: 20

# Subchart for account
account:
  replicaCount: 1
  LOG_LEVEL: INFO
  INITIAL_DELAY_SEC: 20

# Subchart for blocker
blocker:
  replicaCount: 1
  LOG_LEVEL: INFO
  INITIAL_DELAY_SEC: 20

# Subchart for cash
cash:
  replicaCount: 1
  LOG_LEVEL: INFO
  INITIAL_DELAY_SEC: 20

# Subchart for exchange
exchange:
  replicaCount: 1
  LOG_LEVEL: INFO
  INITIAL_DELAY_SEC: 20

# Subchart for exchange-generator
exchange-generator:
  replicaCount: 1
  LOG_LEVEL: INFO
  INITIAL_DELAY_SEC: 20

# Subchart for notifications
notifications:
  replicaCount: 1
  LOG_LEVEL: INFO
  INITIAL_DELAY_SEC: 20


# Subchart for transfer
transfer:
  replicaCount: 1
  LOG_LEVEL: INFO
  INITIAL_DELAY_SEC: 20

# Subchart for Zipkin
zipkin:
  ingress:
    enabled: true
    host: "zipkin.internal.com"
  fullnameOverride: "zipkin"

# Subchart for Prometheus
prometheus:
  server:
    fullnameOverride: prometheus-server
    ingress:
      enabled: true
      hosts:
        - prometheus.internal.com
    global:
      scrape_interval: 15s
  serverFiles:
    prometheus.yml:
      scrape_configs:
        - job_name: 'front'
          metrics_path: /actuator/prometheus
          static_configs:
            - targets: [ 'front:8080' ]
              labels:
                application: 'front'
        - job_name: 'account'
          metrics_path: /actuator/prometheus
          static_configs:
            - targets: [ 'account:8080' ]
              labels:
                application: 'accounts'
        - job_name: 'blocker'
          metrics_path: /actuator/prometheus
          static_configs:
            - targets: [ 'blocker:8080' ]
              labels:
                application: 'blocker'
        - job_name: 'cash'
          metrics_path: /actuator/prometheus
          static_configs:
            - targets: [ 'cash:8080' ]
              labels:
                application: 'cash'
        - job_name: 'exchange'
          metrics_path: /actuator/prometheus
          static_configs:
            - targets: [ 'exchange:8080' ]
              labels:
                application: 'exchange'
        - job_name: 'exchange-generator'
          metrics_path: /actuator/prometheus
          static_configs:
            - targets: [ 'exchange-generator:8080' ]
              labels:
                application: 'exchange-generator'
        - job_name: 'notifications'
          metrics_path: /actuator/prometheus
          static_configs:
            - targets: [ 'notifications:8080' ]
              labels:
                application: 'notifications'
        - job_name: 'transfer'
          metrics_path: /actuator/prometheus
          static_configs:
            - targets: [ 'transfer:8080' ]
              labels:
                application: 'transfer'

# Subchart for Grafana
grafana:
  admin:
    existingSecret: grafana
  ingress:
    enabled: true
    hosts:
      - grafana.internal.com
  dashboards:
    default:
      spring-boot:
        file: dashboards/19004_rev1.json
      prometheus-stats:
        # Ref: https://grafana.com/dashboards/2
        gnetId: 2
        revision: 2
        datasource: Prometheus

# Subchart for Kafka
#kafka:

# Subchart for keycloak
#keycloak:
